{"version":3,"sources":["components/Wallet.js","components/Header/Header.js","utils/funcs.js","components/Loader.js","components/Main/Main.js","components/Traders/Traders.js","components/New/New.js","assets/market-img.jpg","components/Cover.js","utils/config.js","utils/near.js","App.js","index.js"],"names":["Wallet","address","amount","destroy","Dropdown","Toggle","variant","align","id","className","Spinner","animation","size","Menu","Item","href","target","Stack","direction","gap","Divider","as","onClick","Header","Navbar","bg","expand","Container","fluid","Brand","style","fontSize","Collapse","Nav","maxHeight","navbarScrollx","Link","textDecoration","to","Form","FormControl","type","placeholder","Button","GAS","createItem","itemObj","formatted","parseNearAmount","price","window","contract","itemLoad","buyItem","itemKey","cost","getTrader","traderId","getAllTraders","getAllItems","Loader","role","Main","useState","items","setItems","loading","setLoading","account","walletConnection","getItems","useCallback","console","log","error","_buyItem","then","e","useEffect","map","item","index","sold","src","imageUrl","name","description","owner","accountId","formatNearAmount","Traders","allRates","setAllRates","tradersId","setTradersId","traders","setTraders","rateTrader","trader","rate","rating","Number","location","reload","getTraders","_allTraders","forEach","_trader","prev","length","rateCount","toFixed","raters","includes","val","handleRate","min","max","defaultValue","onChange","value","handleRatesChange","New","itemName","setItemName","itemDescription","setItemDescription","itemImage","setItemImage","itemPrice","setItemPrice","navigate","useNavigate","create","onSubmit","preventDefault","handleSubmit","Group","controlId","Label","Control","rows","Cover","login","coverImg","background","minHeight","maxWidth","marketImg","alt","CONTRACT_NAME","environment","env","networkId","nodeUrl","contractName","walletUrl","helperUrl","explorerUrl","Error","nearEnv","connect","Object","assign","deps","keyStore","keyStores","BrowserLocalStorageKeyStore","near","WalletConnection","getAccountId","Contract","viewMethods","changeMethods","accountBalance","getAccountBalance","total","requestSignIn","logout","signOut","App","balance","setBalance","getBalance","path","element","nearInitPromise","initializeContract","ReactDOM","render","StrictMode","document","getElementById","catch"],"mappings":"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","file":"static/js/main.c49fb02b.chunk.js","sourcesContent":["import React from \"react\";\nimport { Dropdown, Stack, Spinner } from \"react-bootstrap\";\n\nconst Wallet = ({ address, amount, destroy }) => {\n  if (address) {\n    return (\n      <>\n        <Dropdown>\n          <Dropdown.Toggle\n            variant=\"light\"\n            align=\"end\"\n            id=\"dropdown-basic\"\n            className=\"d-flex align-items-center border rounded-pill py-1\"\n          >\n            {amount ? (\n              <>\n                {amount} <span className=\"ms-1\">NEAR</span>\n              </>\n            ) : (\n              <Spinner animation=\"border\" size=\"sm\" className=\"opacity-25\" />\n            )}\n          </Dropdown.Toggle>\n\n          <Dropdown.Menu className=\"shadow-lg border-0\">\n            <Dropdown.Item\n              href={`https://explorer.testnet.near.org/accounts/${address}`}\n              target=\"_blank\"\n            >\n              <Stack direction=\"horizontal\" gap={2}>\n                <i className=\"bi bi-person-circle fs-4\" />\n                <span className=\"font-monospace\">{address}</span>\n              </Stack>\n            </Dropdown.Item>\n\n            <Dropdown.Divider />\n            <Dropdown.Item\n              as=\"button\"\n              className=\"d-flex align-items-center\"\n              onClick={() => {\n                destroy();\n              }}\n            >\n              <i className=\"bi bi-box-arrow-right me-2 fs-4\" />\n              Disconnect\n            </Dropdown.Item>\n          </Dropdown.Menu>\n        </Dropdown>\n      </>\n    );\n  }\n\n  return null;\n};\n\nexport default Wallet;\n","import React from \"react\";\nimport {\n  Navbar,\n  Nav,\n  Form,\n  FormControl,\n  Button,\n  Container,\n} from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Wallet from \"../Wallet\";\n\nconst Header = ({ amount, address, destroy }) => {\n  return (\n    <div>\n      <Navbar bg=\"warning\" variant=\"dark\" expand=\"lg\">\n        <Container fluid>\n          <Navbar.Brand href=\"#\" style={{ fontSize: \"40px\" }}>\n            Market Arena\n          </Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"navbarScroll\" />\n          <Navbar.Collapse id=\"navbarScroll\">\n            <Nav\n              className=\"me-auto my-2 my-lg-0\"\n              style={{ maxHeight: \"100px\" }}\n              navbarScrollx\n            >\n              <Nav.Link>\n                <Link style={{ textDecoration: \"none\" }} to=\"/\">\n                  Home\n                </Link>\n              </Nav.Link>\n              <Nav.Link>\n                <Link style={{ textDecoration: \"none\" }} to=\"/new\">\n                  New\n                </Link>\n              </Nav.Link>\n              <Nav.Link>\n                <Link style={{ textDecoration: \"none\" }} to=\"/traders\">\n                  Traders\n                </Link>\n              </Nav.Link>\n            </Nav>\n            <Wallet address={address} amount={amount} destroy={destroy} />\n            <Form className=\"d-flex\">\n              <FormControl\n                type=\"search\"\n                placeholder=\"Search\"\n                className=\"me-2\"\n                aria-label=\"Search\"\n              />\n              <Button variant=\"outline-success\">Search</Button>\n            </Form>\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n    </div>\n  );\n};\n\nexport default Header;\n","import { parseNearAmount } from \"near-api-js/lib/utils/format\";\n\nconst GAS = 100000000000000;\n\nexport async function createItem(itemObj) {\n  const formatted = parseNearAmount(itemObj.price + \"\");\n  itemObj = { ...itemObj, price: formatted };\n  return await window.contract.createItem({ itemLoad: itemObj });\n}\n\nexport function rateTrader(traderId, rating) {\n  return window.contract.rateTrader({ traderId, rating: Number(rating) });\n}\n\nexport async function buyItem(itemKey, cost) {\n  await window.contract.buyItem({ itemKey }, GAS, cost);\n}\n\nexport async function getItem(itemKey) {\n  return await window.contract.getItem({ itemKey });\n}\n\nexport async function getTrader(traderId) {\n  return await window.contract.getTrader({ traderId });\n}\n\nexport async function getAllTraders() {\n  return await window.contract.getAllTraders();\n}\n\nexport async function getAllItems() {\n  return await window.contract.getAllItems();\n}\n","import React from \"react\";\nimport { Spinner } from \"react-bootstrap\";\n\nconst Loader = () => (\n  <div className=\"d-flex justify-content-center\">\n    <Spinner animation=\"border\" role=\"status\" className=\"opacity-25\">\n      <span className=\"visually-hidden\">Loading...</span>\n    </Spinner>\n  </div>\n);\nexport default Loader;","import React, { useState, useEffect, useCallback } from \"react\";\nimport { formatNearAmount } from \"near-api-js/lib/utils/format\";\nimport { getAllItems, buyItem as _buyItem } from \"../../utils/funcs\";\nimport \"./Main.css\";\nimport Loader from \"../Loader\";\n\nconst _items = [\n  {\n    owner: \"mrray.testnet\",\n    name: \"Product 1\",\n    description:\n      \"product 1 item to ever be created let me add some lorem ipsum generated text to fill up this place to make the text longer than it seems\",\n    image:\n      \"https://images.unsplash.com/photo-1481349518771-20055b2a7b24?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8M3x8cmFuZG9tfGVufDB8fDB8fA%3D%3D&w=1000&q=80\",\n    price: 13,\n    soldCount: 5,\n  },\n  {\n    owner: \"mrray.testnet\",\n    name: \"product 2\",\n    description: \"second item to ever be created\",\n    image:\n      \"https://images.unsplash.com/photo-1481349518771-20055b2a7b24?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8M3x8cmFuZG9tfGVufDB8fDB8fA%3D%3D&w=1000&q=80\",\n    price: 13,\n    soldCount: 5,\n  },\n  {\n    owner: \"mrray.testnet\",\n    name: \"product 3\",\n    description: \"Third item to ever be created\",\n    image:\n      \"https://images.unsplash.com/photo-1481349518771-20055b2a7b24?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8M3x8cmFuZG9tfGVufDB8fDB8fA%3D%3D&w=1000&q=80\",\n    price: 13,\n    soldCount: 5,\n  },\n];\n\nconst Main = () => {\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const account = window.walletConnection.account();\n\n  const getItems = useCallback(async () => {\n    try {\n      setLoading(true);\n      setItems(await getAllItems());\n    } catch (error) {\n      console.log({ error });\n    } finally {\n      setLoading(false);\n    }\n  });\n\n  const buyItem = async (itemKey, cost) => {\n    try {\n      await _buyItem(itemKey, cost).then(() => getItems());\n    } catch (e) {\n      console.log({ e });\n    }\n  };\n\n  useEffect(() => {\n    getItems();\n  }, []);\n\n  return (\n    <>\n      {!loading ? (\n        <div className=\"main\">\n          {items.map((item, index) => {\n            if (!item.sold)\n              return (\n                <div className=\"item\">\n                  <img src={item.imageUrl} />\n                  <div className=\"item-details\">\n                    <div className=\"item-name\">{item.name}</div>\n                    <div className=\"item-description\">{item.description}</div>\n                  </div>\n                  <hr />\n                  <div className=\"item-action\">\n                    <div className=\"item-owner\">{item.owner}</div>\n                    <button\n                      className=\"item-button\"\n                      onClick={() => buyItem(index, item.price)}\n                    >\n                      {account.accountId != item.owner && \"Buy\"}\n                    </button>\n                    <div className=\"item-price\">\n                      {formatNearAmount(item.price)} NEAR\n                    </div>\n                  </div>\n                </div>\n              );\n          })}\n        </div>\n      ) : (\n        <Loader/>\n      )}\n    </>\n  );\n};\n\nexport default Main;\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport {\n  getAllTraders,\n  getTrader,\n  rateTrader as _rateTrader,\n} from \"../../utils/funcs\";\nimport Loader from \"../Loader\";\nimport \"./Traders.css\";\n\nconst Traders = () => {\n  const [allRates, setAllRates] = useState();\n  const [tradersId, setTradersId] = useState([]);\n  const [traders, setTraders] = useState([]);\n\n  const account = window.walletConnection.account();\n\n  const rateTrader = async (trader, rate) => {\n    console.log(`You just gave ${trader} ${rate} star`);\n    try {\n      await _rateTrader(trader, rate).then(() => {\n        window.location.reload();\n      });\n    } catch (e) {\n      console.log({ e });\n    }\n  };\n\n  const init = () => {\n    tradersId.forEach((trader) => {\n      setAllRates((prev) => {\n        return { ...prev, [trader]: 1 };\n      });\n    });\n  };\n\n  const getTraders = useCallback(async () => {\n    try {\n      const _allTraders = await getAllTraders();\n      setTradersId(_allTraders);\n      _allTraders.forEach(async (id) => {\n        const _trader = await getTrader(id);\n        setTraders((prev) => {\n          return [...prev, _trader];\n        });\n      });\n    } catch (error) {\n      console.log({ error });\n    }\n  });\n\n  useEffect(() => {\n    getTraders();\n  }, []);\n\n  useEffect(() => {\n    init();\n  }, [tradersId]);\n\n  const handleRatesChange = (value, trader) => {\n    setAllRates((prev) => {\n      return { ...prev, [trader]: value };\n    });\n  };\n\n  const handleRate = (id) => {\n    const val = allRates[id];\n    rateTrader(id, val);\n  };\n\n  return (\n    <>\n      {traders.length > 0 ? (\n        <div className=\"traders\">\n          <div className=\"traders-heading\">\n            All traders who have added goods to this market\n          </div>\n          <div className=\"traders-subheading\">\n            <span>Trader ID</span>\n            <span>Rating</span>\n          </div>\n          {traders.map((trader, index) => (\n            <div className=\"trader-row\">\n              <div className=\"trader\">\n                <div className=\"trader-id\">{trader.traderId}</div>\n                <div className=\"trader-rating\">\n                  {Number(trader.rating / trader.rateCount || 0).toFixed(2)}\n                </div>\n              </div>\n              {!trader.raters.includes(account.accountId) && (\n                <button\n                  className=\"rate-button\"\n                  onClick={() => handleRate(trader.traderId)}\n                >\n                  Rate\n                </button>\n              )}\n              {!trader.raters.includes(account.accountId) && (\n                <input\n                  className=\"rate-input\"\n                  name={`rate-${index}`}\n                  type=\"number\"\n                  min={1}\n                  max={5}\n                  defaultValue={1}\n                  onChange={(e) =>\n                    handleRatesChange(e.target.value, trader.traderId)\n                  }\n                />\n              )}\n            </div>\n          ))}\n        </div>\n      ) : (\n        <Loader/>\n      )}\n    </>\n  );\n};\n\nexport default Traders;\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { useNavigate } from \"react-router-dom\";\nimport { createItem } from \"../../utils/funcs\";\nimport \"./New.css\";\n\nconst New = () => {\n  const [itemName, setItemName] = useState();\n  const [itemDescription, setItemDescription] = useState();\n  const [itemImage, setItemImage] = useState();\n  const [itemPrice, setItemPrice] = useState();\n\n  const navigate = useNavigate();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    create(itemName, itemImage, itemDescription, itemPrice);\n  };\n\n  const create = async (name, imageUrl, description, price) => {\n    const itemObj = { name, imageUrl, description, price };\n    try {\n      await createItem(itemObj).then(() => {\n        navigate(\"/\");\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  return (\n    <div className=\"form-new\">\n      <div className=\"form-heading\">Add a new item to the arena</div>\n      <div className=\"form-form\">\n        <Form onSubmit={(e) => handleSubmit(e)}>\n          <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\n            <Form.Label>Enter name here</Form.Label>\n            <Form.Control\n              type=\"text\"\n              onChange={(e) => setItemName(e.target.value)}\n            />\n          </Form.Group>\n          <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput2\">\n            <Form.Label>Enter image link</Form.Label>\n            <Form.Control\n              type=\"text\"\n              onChange={(e) => setItemImage(e.target.value)}\n            />\n          </Form.Group>\n          <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea3\">\n            <Form.Label>Enter Description</Form.Label>\n            <Form.Control\n              as=\"textarea\"\n              rows={3}\n              onChange={(e) => setItemDescription(e.target.value)}\n            />\n          </Form.Group>\n          <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput4\">\n            <Form.Label>Enter price</Form.Label>\n            <Form.Control\n              type=\"number\"\n              onChange={(e) => setItemPrice(e.target.value)}\n            />\n          </Form.Group>\n          <Button variant=\"dark\" type=\"button\" onClick={() => navigate(\"/\")}>\n            Exit\n          </Button>\n          <Button variant=\"dark\" type=\"submit\">\n            Add\n          </Button>\n        </Form>\n      </div>\n    </div>\n  );\n};\n\nexport default New;\n","export default __webpack_public_path__ + \"static/media/market-img.62c5f507.jpg\";","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport marketImg from \"../assets/market-img.jpg\";\n\nconst Cover = ({ name, login, coverImg }) => {\n  if ((name, login)) {\n    return (\n      <div\n        className=\"d-flex justify-content-center flex-column text-center \"\n        style={{ background: \"#000\", minHeight: \"100vh\" }}\n      >\n        <div className=\"mt-auto text-light mb-5\">\n          <div\n            className=\" ratio ratio-1x1 mx-auto mb-2\"\n            style={{ maxWidth: \"320px\" }}\n          >\n            <img src={marketImg} alt=\"\" />\n          </div>\n          <h1>{name}</h1>\n          <p>Please connect your wallet to continue.</p>\n          <Button\n            onClick={login}\n            variant=\"outline-light\"\n            className=\"rounded-pill px-3 mt-3\"\n          >\n            Connect Wallet\n          </Button>\n        </div>\n        <p className=\"mt-auto text-secondary\">Powered by NEAR</p>\n      </div>\n    );\n  }\n  return null;\n};\n\nexport default Cover;\n","const CONTRACT_NAME = \"mktarena.mrray.testnet\";\n\nfunction environment(env) {\n  switch (env) {\n    case \"mainnet\":\n      return {\n        networkId: \"mainnet\",\n        nodeUrl: \"https://rpc.mainnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.near.org\",\n        helperUrl: \"https://helper.mainnet.near.org\",\n        explorerUrl: \"https://explorer.mainnet.near.org\",\n      };\n    case \"testnet\":\n      return {\n        networkId: \"testnet\",\n        nodeUrl: \"https://rpc.testnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.testnet.near.org\",\n        helperUrl: \"https://helper.testnet.near.org\",\n        explorerUrl: \"https://explorer.testnet.near.org\",\n      };\n    default:\n      throw Error(`Unknown environment '${env}'.`);\n  }\n}\n\nexport default environment;","import environment from \"./config\";\nimport { connect, Contract, keyStores, WalletConnection } from \"near-api-js\";\nimport { formatNearAmount } from \"near-api-js/lib/utils/format\";\n\nconst nearEnv = environment(\"testnet\");\n\nexport async function initializeContract() {\n  const near = await connect(\n    Object.assign(\n      { deps: { keyStore: new keyStores.BrowserLocalStorageKeyStore() } },\n      nearEnv\n    )\n  );\n  window.walletConnection = new WalletConnection(near);\n  window.accountId = window.walletConnection.getAccountId();\n  window.contract = new Contract(\n    window.walletConnection.account(),\n    nearEnv.contractName,\n    {\n      // List here all view methods\n      viewMethods: [\"getItem\", \"getTrader\", \"getAllTraders\", \"getAllItems\"],\n      // List call methods that change state\n      changeMethods: [\"createItem\", \"rateTrader\", \"buyItem\"],\n    }\n  );\n}\n\nexport async function accountBalance() {\n  return formatNearAmount(\n    (await window.walletConnection.account().getAccountBalance()).total,\n    2\n  );\n}\n\nexport async function getAccountId() {\n  return window.walletConnection.getAccountId();\n}\n\nexport function login() {\n  window.walletConnection.requestSignIn(nearEnv.contractName);\n}\n\nexport function logout() {\n  window.walletConnection.signOut();\n  window.location.reload();\n}\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { HashRouter as Router, Routes, Route } from \"react-router-dom\";\nimport { Header, Main, New, Traders } from \"./components\";\nimport Cover from \"./components/Cover\";\nimport { login, logout as destroy, accountBalance } from \"./utils/near\";\nimport \"./App.css\";\n\nconst App = () => {\n  const [balance, setBalance] = useState(\"0\");\n\n  const account = window.walletConnection.account();\n\n  const getBalance = useCallback(async () => {\n    if (account.accountId) {\n      setBalance(await accountBalance());\n    }\n  });\n\n  useEffect(() => {\n    getBalance();\n  }, [getBalance]);\n\n  return (\n    <div>\n      {account.accountId ? (\n        <Router>\n          <Header\n            address={account.accountId}\n            amount={balance}\n            destroy={destroy}\n          />\n          <Routes>\n            <Route path=\"/\" element={<Main />} />\n            <Route path=\"/new\" element={<New />} />\n            <Route path=\"/traders\" element={<Traders />} />\n          </Routes>\n        </Router>\n      ) : (\n        <Cover name=\"Market Arena\" login={login} />\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { initializeContract } from \"./utils/near\";\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\n\nwindow.nearInitPromise = initializeContract()\n  .then(() => {\n    ReactDOM.render(\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>,\n      document.getElementById(\"root\")\n    );\n  })\n  .catch(console.error);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}